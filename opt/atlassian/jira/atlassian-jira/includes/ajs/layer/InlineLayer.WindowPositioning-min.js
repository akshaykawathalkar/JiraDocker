define("jira/ajs/layer/inline-layer/window-positioning",["jira/ajs/layer/inline-layer/standard-positioning","jquery"],function(StandardPositioning,jQuery){return StandardPositioning.extend({left:function(){var standardPos=this._super();if(this._spaceBottom()>=this.layer().height()){return standardPos}else{if(this._spaceRight()>=this.layer().width()){return this._rightSidePos()}else{if(this._spaceLeft()>=this.layer().width()){return this._leftSidePos()}else{return this._rightSidePos()}}}},right:function(){var standardPos=this._super();if(this._spaceBottom()>=this.layer().height()){return standardPos}else{if(this._spaceLeft()>=this.layer().width()){return this._leftSidePos()}else{if(this._spaceRight()>=this.layer().width()){return this._rightSidePos()}else{return this._leftSidePos()}}}},_spaceBottom:function(){var isFixed=this.layer().css("position")==="fixed";var windowHeight=jQuery(window).outerHeight();var windowScroll=jQuery(window).scrollTop();var targetHeight=this.offsetTarget().outerHeight(true);return windowHeight-this.offset().top-targetHeight-this._minWindowMargin()+(isFixed?0:windowScroll)},_spaceRight:function(){var isFixed=this.layer().css("position")==="fixed";var windowWidth=jQuery(window).outerWidth();var windowScroll=jQuery(window).scrollLeft();var targetWidth=this.offsetTarget().outerWidth(true);return windowWidth-this.offset().left-targetWidth-this._minWindowMargin()+(isFixed?0:windowScroll)},_spaceLeft:function(){var isFixed=this.layer().css("position")==="fixed";var windowScroll=jQuery(window).scrollLeft();return this.offset().left-this._minWindowMargin()-(isFixed?0:windowScroll)},_minWindowMargin:function(){return 0},_leftSidePos:function(){return{left:this.offset().left-this.layer().outerWidth(true),top:this._lowestPos(this.layer())}},_rightSidePos:function(){return{left:this.offset().left+this.offsetTarget().outerWidth(true),top:this._lowestPos(this.layer())}},_lowestPos:function(layer){var isFixed=layer.css("position")==="fixed";var windowHeight=jQuery(window).outerHeight();var windowScroll=jQuery(window).scrollTop();return windowHeight-layer.outerHeight(true)-this._minWindowMargin()+(isFixed?0:windowScroll)}})});